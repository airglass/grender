{"version":3,"file":"fuirender.js","mappings":"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","sources":["webpack://fuirender/webpack/universalModuleDefinition","webpack://fuirender/webpack/bootstrap","webpack://fuirender/webpack/runtime/define property getters","webpack://fuirender/webpack/runtime/hasOwnProperty shorthand","webpack://fuirender/webpack/runtime/make namespace object","webpack://fuirender/./src/Glass.ts","webpack://fuirender/./src/Group.ts","webpack://fuirender/./src/Renderer.ts","webpack://fuirender/./src/Grender.ts","webpack://fuirender/./src/Renderable.ts","webpack://fuirender/./src/Keyframes.ts","webpack://fuirender/./src/Effect.ts","webpack://fuirender/./src/Progress.ts","webpack://fuirender/./src/AlterProgress.ts","webpack://fuirender/./src/main.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fuirender\"] = factory();\n\telse\n\t\troot[\"fuirender\"] = factory();\n})(self, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export default class Glass {\n    constructor(params) {\n        this.isMouseDown = false;\n        this.element = params.element;\n        this.subscribers = [];\n        this.event = {};\n        this.DPR = params.DPR || window.devicePixelRatio;\n    }\n    setStyleSize(width, height) {\n        this.element.style.width = `${width}px`;\n        this.element.style.height = `${height}px`;\n    }\n    setAttrSize(width, height) {\n        this.element.width = width;\n        this.element.height = height;\n    }\n    emitSubscribers(event, originEvent) {\n        this.subscribers.forEach(subscriber => subscriber(event, originEvent));\n    }\n    subscribe(subscriber) {\n        this.subscribers.push(subscriber);\n    }\n}\n","export default class Group {\n    constructor() {\n        this.children = [];\n    }\n    add(child) {\n        let children = [].slice.call(arguments, 0);\n        children.forEach((child) => {\n            this.children.push(child);\n        });\n        return children;\n    }\n    remove(child) {\n        for (let i in this.children) {\n            if (child === this.children[i]) {\n                return this.children.splice(+i, 1)[0];\n            }\n        }\n    }\n    get(name) {\n        const children = [];\n        for (let child of this.children) {\n            if (child.name && child.name === name) {\n                children.push(child);\n            }\n        }\n        return children;\n    }\n}\n","import Glass from './Glass';\nimport Group from './Group';\nexport default class Renderer extends Glass {\n    constructor(params) {\n        super(params);\n        this.scene = new Group();\n    }\n    setSize(width, height) {\n        this.element.style.position = 'absolute';\n        this.element.style.top = 0;\n        this.element.style.left = 0;\n        this.setAttrSize(width * this.DPR, height * this.DPR);\n        this.setStyleSize(width, height);\n    }\n    clear() {\n        let ctx = this.element.getContext('2d');\n        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n        return this;\n    }\n    render() {\n        let ctx = this.element.getContext('2d');\n        for (let child of this.scene.children) {\n            child.draw && child.draw(ctx);\n        }\n        return this;\n    }\n    reRender() {\n        this.clear();\n        return this.render();\n    }\n    getElementsContainPoint(point) {\n        let ctx = this.element.getContext('2d');\n        return this.scene.children.map(el => {\n            let inPath = ctx.isPointInPath(el.path, point.x, point.y);\n            if (inPath)\n                return el;\n            return;\n        }).filter(el => el);\n    }\n}\n","import Glass from './Glass';\nimport Renderer from './Renderer';\nimport Group from './Group';\nexport default class Grender extends Glass {\n    constructor(params) {\n        super(params);\n        this.width = params.width || 300;\n        this.height = params.height || 150;\n        this.rendererManager = new Group();\n        this._eventHandler = this._eventHandler.bind(this);\n        this.element.style.position = 'relative';\n        this.setStyleSize(this.width, this.height);\n        this.updateBounds();\n        this._setInteractable();\n    }\n    updateBounds() {\n        this.bounds = this.getBounds();\n    }\n    getScrollOffsets() {\n        return {\n            x: window.pageXOffset,\n            y: window.pageYOffset,\n        };\n    }\n    getViewportSize() {\n        let w = window;\n        return {\n            x: w.innerWidth,\n            y: w.innerHeight,\n        };\n    }\n    getBounds() {\n        let bcr = this.element.getBoundingClientRect();\n        let x = bcr.left;\n        let y = bcr.top;\n        let width = bcr.width || (bcr.right - bcr.left);\n        let height = bcr.height || (bcr.bottom - bcr.top);\n        let centerX = x + width / 2;\n        let centerY = y + height / 2;\n        return this.bounds = { x, y, centerX, centerY, width, height };\n    }\n    addRenderer(rendererName) {\n        let canvas = document.createElement('canvas');\n        let renderer = new Renderer({\n            element: canvas,\n            DPR: this.DPR\n        });\n        renderer.setSize(this.bounds.width, this.bounds.height);\n        renderer.name = rendererName;\n        this.element.appendChild(canvas);\n        return this.rendererManager.add(renderer)[0];\n    }\n    _setInteractable() {\n        let el = this.element;\n        el.addEventListener('mousedown', this._eventHandler);\n        el.addEventListener('touchstart', this._eventHandler);\n        el.addEventListener('mousemove', this._eventHandler);\n        el.addEventListener('touchmove', this._eventHandler);\n        el.addEventListener('mouseup', this._eventHandler);\n        el.addEventListener('touchend', this._eventHandler);\n        el.addEventListener('mouseover', this._eventHandler);\n        el.addEventListener('mouseout', this._eventHandler);\n        return this;\n    }\n    _eventHandler(e) {\n        this.updateBounds();\n        this.event = {};\n        let touch = e.touches && e.touches[0];\n        switch (e.type) {\n            case 'mousedown':\n                this.event.interactor = 'mouse';\n                this.isMouseDown = true;\n                this.event.type = 'touchstart';\n                this.event.x = (e.clientX - this.bounds.x) * this.DPR;\n                this.event.y = (e.clientY - this.bounds.y) * this.DPR;\n                break;\n            case 'touchstart':\n                this.event.interactor = 'finger';\n                this.event.type = 'touchstart';\n                this.event.x = (touch.clientX - this.bounds.x) * this.DPR;\n                this.event.y = (touch.clientY - this.bounds.y) * this.DPR;\n                break;\n            case 'mousemove':\n                this.event.interactor = 'mouse';\n                this.event.type = 'mousemove';\n                if (this.isMouseDown) {\n                    this.event.type = 'touchmove';\n                }\n                this.event.x = (e.clientX - this.bounds.x) * this.DPR;\n                this.event.y = (e.clientY - this.bounds.y) * this.DPR;\n                break;\n            case 'touchmove':\n                this.event.interactor = 'finger';\n                this.event.type = 'touchmove';\n                this.event.x = (touch.clientX - this.bounds.x) * this.DPR;\n                this.event.y = (touch.clientY - this.bounds.y) * this.DPR;\n                break;\n            case 'mouseup':\n                this.event.interactor = 'mouse';\n                this.isMouseDown = false;\n                this.event.type = 'touchend';\n                break;\n            case 'touchend':\n                this.event.interactor = 'finger';\n                this.event.type = 'touchend';\n            case 'mouseover':\n                this.event.interactor = 'mouse';\n                this.event.type = 'mouseover';\n                break;\n            case 'mouseout':\n                this.event.interactor = 'mouse';\n                this.event.type = 'mouseout';\n                break;\n        }\n        this.emitSubscribers(this.event, e);\n    }\n}\n","export default class Renderable {\n    constructor(params) {\n        this.line = params && params.line || 1;\n        this.fill = params && params.fill || '#fff';\n        this.stroke = params && params.stroke || '#111';\n        this.userData = {};\n    }\n    init() { }\n    draw(ctx) { }\n}\n","export default class Keyframes {\n    constructor() {\n        this.initialized = false;\n    }\n    static generateEmptyFrames(frameWidth, frameHeight, frameCounts) {\n        let frames = [];\n        for (let i = 0; i < frameCounts; i++) {\n            let frame = document.createElement('canvas');\n            frame.width = frameWidth;\n            frame.height = frameHeight;\n            frames.push(frame);\n        }\n        return frames;\n    }\n    fromImage(imageUrl, frameCounts, cb) {\n        let image = new Image;\n        image.onload = () => {\n            let frameWidth = image.width / frameCounts;\n            let frameHeight = image.height;\n            let frames = Keyframes.generateEmptyFrames(frameWidth, frameHeight, frameCounts);\n            for (let i = 0; i < frameCounts; i++)\n                frames[i].getContext('2d').drawImage(image, -i * frameWidth, 0);\n            this.setFrames(frames);\n            this.initialized = true;\n            cb(this);\n        };\n        image.src = imageUrl;\n    }\n    fromFrames(frames) {\n        this.setFrames(frames);\n        this.initialized = true;\n    }\n    setFrames(frames) {\n        this.frames = frames;\n        this.frameWidth = frames[0].width;\n        this.frameHeight = frames[0].height;\n        this.frameCounts = frames.length;\n        this.currentFrameIndex = 0;\n    }\n    updateFrames(frameWidth, frameHeight, frameCounts, frameProcessor) {\n        let frames = Keyframes.generateEmptyFrames(frameWidth, frameHeight, frameCounts);\n        this.setFrames(frames);\n        for (let i = 0; i < frameCounts; i++) {\n            frameProcessor(i, this.frames[i].getContext('2d'));\n        }\n    }\n    drawFrame(ctx, drawX, drawY) {\n        ctx.drawImage(this.frames[this.currentFrameIndex], drawX, drawY);\n        this.currentFrameIndex++;\n        if (this.currentFrameIndex >= this.frameCounts)\n            this.currentFrameIndex = 0;\n    }\n    getSprite() {\n        let sprite = document.createElement('canvas');\n        sprite.width = this.frameWidth * this.frameCounts;\n        sprite.height = this.frameHeight;\n        let spriteCtx = sprite.getContext('2d');\n        for (let i = 0; i < this.frameCounts; i++) {\n            spriteCtx.drawImage(this.frames[i], this.frameWidth * i, 0);\n        }\n        return sprite;\n    }\n}\n","import Renderable from \"./Renderable\";\nimport Keyframes from \"./Keyframes\";\nexport default class Effect extends Renderable {\n    constructor(params) {\n        super(params);\n        this.keyframes = new Keyframes();\n        this.frameCounts = params && params.frameCounts || 1;\n        this.bounds = {\n            x: 0,\n            y: 0,\n            centerX: 0,\n            centerY: 0,\n            width: 0,\n            height: 0,\n        };\n    }\n    locate(x, y, p = 0) {\n        this.bounds.width = this.keyframes.frameWidth;\n        this.bounds.height = this.keyframes.frameHeight;\n        let halfBoundWidth = this.bounds.width / 2;\n        let halfBoundHeight = this.bounds.height / 2;\n        switch (p) {\n            case 0:\n                this.bounds.x = x - halfBoundWidth;\n                this.bounds.y = y - halfBoundHeight;\n                break;\n            case 1:\n                this.bounds.x = x;\n                this.bounds.y = y;\n                break;\n            case 2:\n                this.bounds.x = x - halfBoundWidth;\n                this.bounds.y = y;\n                break;\n            case 3:\n                this.bounds.x = x - this.bounds.width;\n                this.bounds.y = y;\n                break;\n            case 4:\n                this.bounds.x = x - this.bounds.width;\n                this.bounds.y = y - halfBoundHeight;\n                break;\n            case 5:\n                this.bounds.x = x - this.bounds.width;\n                this.bounds.y = y - this.bounds.height;\n                break;\n            case 6:\n                this.bounds.x = x - halfBoundWidth;\n                this.bounds.y = y - this.bounds.height;\n                break;\n            case 7:\n                this.bounds.x = x;\n                this.bounds.y = y - this.bounds.height;\n                break;\n            case 8:\n                this.bounds.x = x;\n                this.bounds.y = y - halfBoundHeight;\n                break;\n        }\n    }\n    draw(ctx) {\n        if (!this.keyframes.initialized)\n            return;\n        this.keyframes.drawFrame(ctx, this.bounds.x, this.bounds.y);\n    }\n}\n","export default class Progress {\n    constructor(startValue, endValue, t, step) {\n        this.value = this.startValue = startValue || 0;\n        this.endValue = endValue || 1;\n        (t >= 0 && t <= 1) ? (this.t = t) : (this.t = 0);\n        this.step = step || 0.1;\n        this.valueLength = this.endValue - this.startValue;\n    }\n    getValue(t) {\n        return this.startValue + this.valueLength * t;\n    }\n    drive() {\n        let value = this.getValue(this.t);\n        this.t += this.step;\n        this.t > 1 && (this.t = 0);\n        return this.value = value;\n    }\n}\n","import Progress from './Progress';\nexport default class AlterProgress extends Progress {\n    constructor(startValue, endValue, t, step) {\n        super(startValue, endValue, t, step);\n    }\n    getValue(t) {\n        let value;\n        if (t >= 0 && t < 0.5) {\n            value = this.startValue + this.valueLength * t * 2;\n        }\n        else {\n            value = this.startValue + this.valueLength * (2 - t * 2);\n        }\n        return value;\n    }\n}\n","import Grender from './Grender';\nimport Renderable from './Renderable';\nimport Effect from './Effect';\nimport AlterProgress from './AlterProgress';\nimport Progress from './Progress';\nfunction extend(extendedGlass, prototype) {\n    let Glass = function (params) {\n        extendedGlass.call(this, params);\n        prototype._constructor && prototype._constructor.call(this, params);\n    };\n    function foo() { }\n    foo.prototype = extendedGlass.prototype;\n    Glass.prototype = new foo();\n    Glass.prototype.constructor = Glass;\n    for (var i in prototype)\n        Glass.prototype[i] = prototype[i];\n    return Glass;\n}\nfunction create(opts) {\n    return new Grender(opts);\n}\nexport { create, Progress, AlterProgress, Effect, Renderable, extend };\n"],"names":["root","factory","exports","module","define","amd","self","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","Glass","constructor","params","this","isMouseDown","element","subscribers","event","DPR","window","devicePixelRatio","setStyleSize","width","height","style","setAttrSize","emitSubscribers","originEvent","forEach","subscriber","subscribe","push","Group","children","add","child","slice","arguments","remove","i","splice","name","Renderer","super","scene","setSize","position","top","left","clear","ctx","getContext","clearRect","canvas","render","draw","reRender","getElementsContainPoint","point","map","el","isPointInPath","path","x","y","filter","Grender","rendererManager","_eventHandler","bind","updateBounds","_setInteractable","bounds","getBounds","getScrollOffsets","pageXOffset","pageYOffset","getViewportSize","w","innerWidth","innerHeight","bcr","getBoundingClientRect","right","bottom","centerX","centerY","addRenderer","rendererName","document","createElement","renderer","appendChild","addEventListener","e","touch","touches","type","interactor","clientX","clientY","Renderable","line","fill","stroke","userData","init","Keyframes","initialized","static","frameWidth","frameHeight","frameCounts","frames","frame","fromImage","imageUrl","cb","image","Image","onload","generateEmptyFrames","drawImage","setFrames","src","fromFrames","length","currentFrameIndex","updateFrames","frameProcessor","drawFrame","drawX","drawY","getSprite","sprite","spriteCtx","Effect","keyframes","locate","p","halfBoundWidth","halfBoundHeight","Progress","startValue","endValue","t","step","valueLength","getValue","drive","AlterProgress","extend","extendedGlass","_constructor","foo","create","opts"],"sourceRoot":""}